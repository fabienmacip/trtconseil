{% extends 'base.html.twig' %}

{% block title %}Liste des annonces{% endblock %}



{% block body %}
<style>
    {# .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; } #}
    
    .locked { background-color : silver; }
    .validated { background-color : lightgray; }
</style>

<div class="p-2 validated my-1">
    <h1>Annonces</h1>
    <a href="{{ path('annonce_create', {'recruteur':'53'}) }}" role="button" class="btn btn-success">Ajouter une annonce</a>
</div>

<div class="example-wrapper locked mt-1">
    <h2 class="px-2">Liste des annonces à valider</h2>
    <ul class="pb-1">
        {%for r in annonces %}
        
            {# Liste des annonces à valider #}
            {% if r.validation is same as false %}

                <li class="mb-1">
                    <a href="{{ path('app_annonce', {'id': r.id})}}" class="btn btn-info">Voir</a> 
                    {{ r.intitule|capitalize }} {{r.poste|capitalize}} {{r.ville|upper}}
                    {# <a href="{{ path('app_recruteur', {'id': r.id}) }}">Détail</a> -  #}
                    <a href="{{ path('annonce_valider', {'id': r.id}) }}" class="btn btn-warning">Valider</a> -
                    <a href="{{ path('annonce_update', {'id': r.id}) }}" role="button" class="btn btn-primary">Modifier</a> - 
                    <a href="{{ path('annonce_remove', {'id': r.id}) }}" role="button" class="btn btn-danger"
                        onClick="return confirm('Confirmer la suppression de cette annonce et de toutes les candidatures qui y sont liées ? ')">Supprimer</a>
                    
                </li>
            {% endif %}
        {% else %}
            <li><em>Aucune annonce trouvée.</em></li>
        {% endfor %}
    </ul>
</div>

<div class="example-wrapper validated">
    <h2 class="px-2">Liste des annonces validées</h2>
    <ul class="pb-1">
        {%for r in annonces %}
            {# Liste des annonces déjà validées #}
            {% if r.validation is same as true %}
            <li class="mb-1">
                <a href="{{ path('app_annonce', {'id': r.id})}}" class="btn btn-info">Voir</a> 
                {{ r.intitule|capitalize }} {{r.poste|capitalize}} {{r.ville|upper}}
                {# <a href="{{ path('app_annonce', {'id': r.id}) }}">Détail</a> -  #}
                <a href="{{ path('annonce_bloquer', {'id': r.id}) }}" class="btn btn-warning">Bloquer</a> -
                <a href="{{ path('annonce_update', {'id': r.id}) }}" role="button" class="btn btn-primary">Modifier</a> - 
                <a href="{{ path('annonce_remove', {'id': r.id}) }}" role="button" class="btn btn-danger"
                    onClick="return confirm('Confirmer la suppression de cette annonce et de toutes les candidatures qui y sont liées ? ')">Supprimer</a>
                
            </li>
            {% endif %}
        {% else %}
            <li><em>Aucune annonce trouvée.</em></li>
        {% endfor %}
    </ul>
</div>


{% endblock %}
